<html>
    <body>
        <form id="tstnew" name="tstnew" action="" enctype="text/plain" method="get">
            <input type="text" id="txtText" name="txtText" style="width: 600px;" class="textbox"/><br><br>
            <input type="button" id="cmdSend" name="cmdSend" onclick="validar()" value="Enviar" class="buttons"/>
            <body>
                <h1>Formulário de Cadastro</h1>
                <div class="form">
                    <div class="name">
                        <span>Nome:</span>
                        <input type="text" name="name" id="name">
                    </div>
                    <div class="cpf">
                        <span>CPF:</span>
                        <input type="text" name="cpf" id="cpf" oninput="maskCPF(this)">
                    </div>
                    <button type="submit" onclick="submitForm()">Cadastrar</button>
                </div>
                <script src="script.js"></script>
            </body>
        </form>
        <script>
function verifyCPF(cpf) {
    const rgx = /^\d{3}\.\d{3}\.\d{3}\-\d{2}$/
    return rgx.test(cpf)
}

function submitForm() {
    let name = document.getElementById("name").value
    let cpf = formatCPF(document.getElementById("cpf").value)

    console.log(cpf)

    if(name.trim() == "" || cpf == "") {
        alert("Digite um nome/cpf válido.")
        return
    }

    if(verifyCPF(cpf)) {
        alert("O CPF de " + name + " é válido")
    }
    else {
        alert("O CPF de " + name + " é inválido")
    }
}

function formatCPF(cpf) {
    return cpf.trim().replace(/(\d{3})(\d{3})(\d{3})(\d{2})/, "$1.$2.$3-$4")
}

function maskCPF(input){
    let cpf = input.value
    
    if(isNaN(cpf[cpf.length - 1])){ // impede entrar outro caractere que não seja número
       input.value = cpf.substring(0, cpf.length-1)
       return
    }
    
    input.setAttribute("maxlength", "14")
    if (cpf.length == 3 || cpf.length == 7) input.value += "."
    if (cpf.length == 11) input.value += "-"
 }

 function maskName(input) {
    let name = input.value

    const allowedCaracters = /^[a-z]/
    if(!allowedCaracters.test(name[name.length - 1])) {
        input.value = name.substring(0, name.length - 1)
        return;
    }
 }

            function cmdSendOnClick() {
            let cep=tstnew.txtText.value;
            if (test44(cep)){
                alert('É valido');

            }
            else{
                alert('Falhou...');
            }
        }
        function test44(cep){
            const re=/^D*\$/;
            return re.test(cep);
        }
        function validar(){
            let nm = document.getElementById("txtText");
            if (nm.value==''){
                alert('Inválido');
            }
            else{
                tstnew.submit();
            }
        }
        </script>
    </body>
</html>